!function(e,t,s){"use strict";var i,l={},r="scriptless-uploader",a="scriptless-image-preview",p=".scriptless-delete",n=".scriptless-image-id";function o(e){var s;e.preventDefault(),i=t(this).prev(n),s?s.open():((s=wp.media.frames.file_frame=wp.media({id:r,title:[l.params.text],button:{text:[l.params.text]},filterable:"all",multiple:!1,library:{type:"image"}})).on("select",function(){var e=s.state().get("selection").first().toJSON(),r=t(i).prevAll("."+a),n=t("<div />",{class:a}).append(t("<img/>",{style:"max-width:100%;",src:e.url,alt:l.params.pinterest}));t(i).val(e.id),r.length&&r.remove(),t(i).before(n),t(p).show()}),s.open())}function c(){i=t(this).prevAll(n);var e=t(this).prevAll("."+a);t(i).val(""),t(e).remove(),t(p).hide()}l.upload=function(){t(".scriptless-upload").on("click.scriptless",o),t(p).on("click.delete",c)},l.params="undefined"==typeof scriptlessL10n?"":scriptlessL10n,void 0!==l.params&&l.upload()}(document,jQuery);